{"componentChunkName":"component---src-templates-tag-tsx","path":"/tags/timeline-max","result":{"pageContext":{"posts":[{"excerpt":"\"When you look at someone through rose-colored glasses, all the red flags just look like flags.\"","html":"<blockquote>\n<p>\"When you look at someone through rose-colored glasses, all the red flags just look like flags.\"</p>\n</blockquote>\n<!-- more -->\n<h1 id=\"前言\" style=\"position:relative;\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h1>\n<p>在 Codepen 上常常看到很多會設計又懂寫前端的高手，用 SVG 畫出很漂亮的圖案後，還能讓他們產生可愛的動畫，我一直很好奇他們是怎麼實作的，總覺得很困難，好像得對 SVG 透徹了解，並且自己畫出那些 SVG 圖案，才有辦法實作動畫。\n但其實不然，今天就來分享一個簡單的小技巧，讓你在短短十分鐘內就能讓一個靜態的 SVG 圖案活躍起來！</p>\n<p>簡單看個成品，你可以點選下面範例中的 <code class=\"language-text\">build</code> 按鈕，可以看到原本靜止的 SVG 房子動了起來！</p>\n<p class=\"codepen\" data-height=\"639\" data-theme-id=\"29194\" data-default-tab=\"result\" data-user=\"arvin0731\" data-slug-hash=\"qBBRYjp\" style=\"height: 639px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"SVG Animation House\">\n  <span>See the Pen <a href=\"https://codepen.io/arvin0731/pen/qBBRYjp\">\n  SVG Animation House</a> by Arvin (<a href=\"https://codepen.io/arvin0731\">@arvin0731</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n<h2 id=\"第一步先找到你喜歡的-svg-圖案\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%80%E6%AD%A5%E5%85%88%E6%89%BE%E5%88%B0%E4%BD%A0%E5%96%9C%E6%AD%A1%E7%9A%84-svg-%E5%9C%96%E6%A1%88\" aria-label=\"第一步先找到你喜歡的 svg 圖案 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第一步，先找到你喜歡的 SVG 圖案</h2>\n<p>如果你跟我一樣，畫不出漂亮的圖案或 Icon，可以到 <a href=\"https://www.flaticon.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flaticon</a>、<a href=\"https://www.iconfinder.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Iconfinder</a> 或 <a href=\"https://icons8.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">icons8</a> 等網站找些免費的 svg icon 下載使用（注意授權即可）。</p>\n<p><img src=\"/image/flaticon-desktop.png\" alt=\"Find a good icon\"></p>\n<p>前陣子到美國出差發現他們好像很流行滑板車（scooter），那就到 <a href=\"https://www.flaticon.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flaticon</a> 上找個類似的圖案來玩玩！（一開始的房屋範例也是從 <a href=\"https://www.flaticon.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flaticon</a> 取得的）：</p>\n<div style=\"margin: 0 auto; display: block; width: 256px;\">\n<svg id=\"Capa_1\" enable-background=\"new 0 0 512.004 512.004\" height=\"256\" viewBox=\"0 0 512.004 512.004\" width=\"256\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m175.669 463.803c-8.283 0-15-6.716-15-15 0-53.743-43.723-97.467-97.467-97.467-14.622 0-28.673 3.153-41.762 9.371-7.483 3.555-16.432.371-19.986-7.112-3.555-7.482-.37-16.431 7.113-19.985 17.143-8.143 35.525-12.273 54.635-12.273 70.286 0 127.467 57.182 127.467 127.467 0 8.283-6.714 14.999-15 14.999z\" fill=\"#c5e1e6\"/><path d=\"m442.768 321.476c-63.027 2.945-113.414 51.086-120.563 112.327h-210.801c-8.285 0-15 6.716-15 15s6.715 15 15 15h224.932c8.285 0 15-6.716 15-15 0-52.162 40.777-94.928 92.832-97.36 8.275-.387 14.67-7.408 14.283-15.684-.387-8.275-7.402-14.684-15.683-14.283z\" fill=\"#008adf\"/><path d=\"m442.768 321.476c-63.027 2.945-113.414 51.086-120.563 112.327h-66.204v30h80.335c8.285 0 15-6.716 15-15 0-52.162 40.777-94.928 92.832-97.36 8.275-.387 14.67-7.408 14.283-15.684-.387-8.275-7.402-14.684-15.683-14.283z\" fill=\"#0065a3\"/><path d=\"m448.787 415.604c-7.721 0-14.279-5.923-14.932-13.755l-28.796-345.572c-1.291-15.484-11.852-26.275-20.521-26.275-8.283 0-15-6.716-15-15s6.717-15 15-15c12.9 0 25.295 5.971 34.9 16.811 8.852 9.99 14.361 23.12 15.518 36.972l28.797 345.573c.688 8.256-5.447 15.506-13.703 16.194-.425.035-.847.052-1.263.052z\" fill=\"#8db9c4\"/><circle cx=\"63.203\" cy=\"448.803\" fill=\"#c5e1e6\" r=\"48.2\"/><path d=\"m63.203 512.002c-34.848 0-63.199-28.351-63.199-63.199 0-34.849 28.352-63.199 63.199-63.199 34.85 0 63.201 28.35 63.201 63.199 0 34.848-28.352 63.199-63.201 63.199zm0-96.398c-18.306 0-33.199 14.893-33.199 33.199 0 18.307 14.894 33.199 33.199 33.199 18.307 0 33.201-14.893 33.201-33.199s-14.895-33.199-33.201-33.199z\" fill=\"#1d4659\"/><circle cx=\"448.803\" cy=\"448.803\" fill=\"#8db9c4\" r=\"48.2\"/><g fill=\"#0e232c\"><path d=\"m448.803 512.002c-34.848 0-63.199-28.351-63.199-63.199 0-34.849 28.352-63.199 63.199-63.199 34.85 0 63.201 28.35 63.201 63.199 0 34.848-28.352 63.199-63.201 63.199zm0-96.398c-18.307 0-33.199 14.893-33.199 33.199 0 18.307 14.893 33.199 33.199 33.199 18.307 0 33.201-14.893 33.201-33.199s-14.895-33.199-33.201-33.199z\"/><path d=\"m352.402.002c-8.283 0-15 6.716-15 15s6.717 15 15 15h32.135v-30h-32.135z\"/></g></svg>\nIcons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\n<h2 id=\"第二步分析一下你的-svg-長什麼樣子\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%8B%E4%BD%A0%E7%9A%84-svg-%E9%95%B7%E4%BB%80%E9%BA%BC%E6%A8%A3%E5%AD%90\" aria-label=\"第二步分析一下你的 svg 長什麼樣子 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第二步，分析一下你的 SVG 長什麼樣子</h2>\n<p>找到喜歡的 svg icon 後，用瀏覽器打開，接著開啟 devtool，你會看到下面的結果：</p>\n<p><img src=\"/image/svg-in-browser.png\" alt=\"open svg from browser\"></p>\n<p>裡面的 <code class=\"language-text\">path</code> 跟 <code class=\"language-text\">circle</code> 都是 svg 的 DOM 元件，跟字面上意思一樣，就是 svg 圖案內的線條與圓形。</p>\n<p>svg 的 <code class=\"language-text\">path</code>，基本上就是一連串的 svg mini language：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 10 25\n         L 10 75\n         L 60 75\n         L 10 25<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>上面程式碼中的 d 的內容：M 代表將 筆 移動到 (10, 25)，接著 L 畫一條線到 (10, 75)，以此類推。詳細介紹可看<a href=\"https://www.dashingd3js.com/svg-paths-and-d3js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">這裡 - SVG Paths and D3.js</a>。</p>\n<p>透過 devtool，我們可以知道每個 <code class=\"language-text\">path</code> 是對應到畫面上的哪個部分：</p>\n<p><img src=\"/image/animate-svg-devtool.gif\" alt=\"devtool-find-parts\"></p>\n<p>到這邊大概就會有個方向了，既然我們可以知道每個元件對應到圖案上的哪個部分，我們就能夠針對想要套上動畫的 DOM 元件來操作！</p>\n<h2 id=\"第三步好用的動畫工具---timelinelite--tweenmax\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%89%E6%AD%A5%E5%A5%BD%E7%94%A8%E7%9A%84%E5%8B%95%E7%95%AB%E5%B7%A5%E5%85%B7---timelinelite--tweenmax\" aria-label=\"第三步好用的動畫工具   timelinelite  tweenmax permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第三步，好用的動畫工具 - TimelineLite &#x26; TweenMax</h2>\n<p>當然你可以給予每個 svg 內的 DOM 元件一個獨特的 id，或是 class name，然後用 CSS 或 JavaScript 來自行處理動畫，但這樣難度還是頗高，更重要的是，就沒辦法在十分鐘內做完 XD</p>\n<p>所以我們得借用工具，Timeline(Lite|Max) 跟 TweenMax 是知名的 <a href=\"https://greensock.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GreenSock Animation Platform（簡稱 GSAP）</a>推出的套件，從名稱就可以猜出，主要是提供 <strong>時間軸</strong> 與 <strong>補間</strong> 動畫的 API：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- index.html --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example__ball<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example__title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Taiwan No.1!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  \n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">animateCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span> Build! <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- JavaScript --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token comment\">// 使用 TimelineMax 物件</span>\n<span class=\"token keyword\">const</span> tl <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TimelineMax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 利用 .set 設定擁有 class name .example__title 的元素</span>\n<span class=\"token comment\">// 將其 scale 縮小成 0.2，透明度設為 0</span>\ntl\n  <span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example__title\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    scale<span class=\"token operator\">:</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span>\n    autoAlpha<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// 將擁有 class name .example__ball 的元素</span>\n  <span class=\"token comment\">// scale 縮小成 0.2</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example__ball\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    scale<span class=\"token operator\">:</span> <span class=\"token number\">0.2</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// tween 1: 在 1 秒內旋轉 360 度，並翻轉 180 度</span>\n  <span class=\"token comment\">// 接著回復 scale 成原始大小，中間以 Elastic.easeIn 這個 ease function 來控制動畫速度</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example__ball\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    rotationX<span class=\"token operator\">:</span> <span class=\"token number\">360</span><span class=\"token punctuation\">,</span>\n    rotationY<span class=\"token operator\">:</span> <span class=\"token number\">180</span><span class=\"token punctuation\">,</span>\n    scale<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    ease<span class=\"token operator\">:</span> Elastic<span class=\"token punctuation\">.</span>easeIn<span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// tween 2: 跟第一個補間動畫雷同，只是這次是控制文字，並在 0.5 內完成</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example__title\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    autoAlpha<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    scale<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    ease<span class=\"token operator\">:</span> Back<span class=\"token punctuation\">.</span>easeOut<span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>GSAP 甚至提供一個 <a href=\"https://greensock.com/ease-visualizer/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ease Visualizer</a> 讓你可以看看每種 Ease function 的效果，更順帶附上程式碼：</p>\n<p><img src=\"/image/GSAP-ease-visualizer.png\" alt=\"gsap ease visualizer\"></p>\n<p>上述短短的程式碼就能達到如下效果：</p>\n<p class=\"codepen\" data-height=\"447\" data-theme-id=\"29194\" data-default-tab=\"result\" data-user=\"arvin0731\" data-slug-hash=\"pooKOxo\" style=\"height: 447px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"GSAP Tutorial: Simple Timeline\">\n  <span>See the Pen <a href=\"https://codepen.io/arvin0731/pen/pooKOxo\">\n  GSAP Tutorial: Simple Timeline</a> by Arvin (<a href=\"https://codepen.io/arvin0731\">@arvin0731</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n<h2 id=\"第四步結合-gsap-工具與你喜愛的-svg\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E7%B5%90%E5%90%88-gsap-%E5%B7%A5%E5%85%B7%E8%88%87%E4%BD%A0%E5%96%9C%E6%84%9B%E7%9A%84-svg\" aria-label=\"第四步結合 gsap 工具與你喜愛的 svg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第四步，結合 GSAP 工具與你喜愛的 SVG</h2>\n<p>GSAP 的 API 文件蠻齊全的，還有論壇可以搜尋相關問題，使用上有任何問題幾乎都能在上面找到答案：<a href=\"https://greensock.com/docs/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">官網文件</a>、<a href=\"https://greensock.com/forums/forum/11-gsap/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">論壇</a></p>\n<p>在一開始的房屋範例中，我主要使用的是 TimelineMax 的 <code class=\"language-text\">from</code> 與 <code class=\"language-text\">staggerFrom</code>，跟前步驟內的範例不同，這兩個 API 只需要設定初始值，他會在指定時間內將補間動畫完成：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">tl<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#House > rect:nth-child(24)'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>scaleX<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> transformOrigin<span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span> ease<span class=\"token operator\">:</span> Power2<span class=\"token punctuation\">.</span>easeOut<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>將 CSS Selector <code class=\"language-text\">#House > rect:nth-child(24)</code> 這個元素，從 scaleX 為 0 開始，以 center(中心) 為變形起點，利用 Power2.easeOut 的 ease function，在一秒內回復到原始狀態，並執行補間動畫。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">.</span><span class=\"token function\">staggerFrom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'#House > path:nth-child(34)'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#House > path:nth-child(32)'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>scaleY<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> transformOrigin<span class=\"token operator\">:</span> <span class=\"token string\">\"bottom\"</span><span class=\"token punctuation\">,</span> ease<span class=\"token operator\">:</span> Bounce<span class=\"token punctuation\">.</span>easeOut<span class=\"token punctuation\">,</span> stagger<span class=\"token operator\">:</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"scene1+=0.5\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>與 <code class=\"language-text\">from</code> 雷同，只是 <code class=\"language-text\">staggerFrom</code> 可以一次放入多個 CSS Selector，用 <code class=\"language-text\">stagger</code> 這個屬性來設定陣列中的 Selector 要以怎樣的時間差出現。</p>\n<p>詳細 API 參數可以參考<a href=\"https://greensock.com/docs/v2/TimelineMax\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">官方文件</a></p>\n<p>接著回到我們的 SVG，在 devtool 的幫助下，要取出 svg 內部元素的 CSS Selector 非常容易，在 DOM 元件上按右鍵，選擇 <code class=\"language-text\">Copy -> Copy selector</code>，就能直接複製到該元件的 CSS Selector：</p>\n<p><img src=\"/image/svg-animation-copy-selector.png\" alt=\"copy selector directly\"></p>\n<p>現在我們能取得 svg 中任何部分的 CSS Selector，也知道我們能用 GSAP API 來進行補間動畫，現在是時候將其結合起來！</p>\n<p>第一步先調整一下基本 Layout，一般在空白 Html 內直接放入 svg 時，圖案大多會緊靠頁面左上角，因為 svg 本身通常不會有任何關於 layout 的 CSS，所以可以套用個 <code class=\"language-text\">margin: 0 auto</code> 將其置中，看起來會順眼一些，你也能額外加些 padding。此外，為了方便測試動畫效果，也可以放個 button 在頁面上，用來呼叫你的動畫函式：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!--html part--></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">animateBike</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span> Build! <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--css part--></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n<span class=\"token selector\">#Capa_1</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0 auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 256px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>接著我們使用 <code class=\"language-text\">TimelineMax</code> 提供的 <code class=\"language-text\">staggerFrom</code> 函式，利用 devtool 將滑板車的輪子部分找出來，複製它們的 CSS Selector，放入 <code class=\"language-text\">staggerFrom</code> 函式參數中，設定 x 與 y 軸的 <code class=\"language-text\">scale</code> 都從 0 開始，由 <code class=\"language-text\">center</code> 增長，採用 <code class=\"language-text\">Bounce.easeOut</code> 的 ease function，而四個 Selector 間以 <code class=\"language-text\">stagger: 0.2</code> 的屬性值作為補間動畫出現的時間差：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> tl <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TimelineMax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  tl\n    <span class=\"token punctuation\">.</span><span class=\"token function\">staggerFrom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'#Capa_1 > g > path:nth-child(1)'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#Capa_1 > circle:nth-child(7)'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#Capa_1 > path:nth-child(6)'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#Capa_1 > circle:nth-child(5)'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>scaleY<span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> scaleX<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> transformOrigin<span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span> ease<span class=\"token operator\">:</span> Bounce<span class=\"token punctuation\">.</span>easeOut<span class=\"token punctuation\">,</span> stagger<span class=\"token operator\">:</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>簡單幾行程式碼，就能讓我們的滑板車有了動畫！</p>\n<p class=\"codepen\" data-height=\"417\" data-theme-id=\"29194\" data-default-tab=\"js,result\" data-user=\"arvin0731\" data-slug-hash=\"MWWXPVm\" style=\"height: 417px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Scooter - demo1\">\n  <span>See the Pen <a href=\"https://codepen.io/arvin0731/pen/MWWXPVm\">\n  Scooter - demo1</a> by Arvin (<a href=\"https://codepen.io/arvin0731\">@arvin0731</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n<h2 id=\"第五步發揮創意將整體動畫完成\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%BA%94%E6%AD%A5%E7%99%BC%E6%8F%AE%E5%89%B5%E6%84%8F%E5%B0%87%E6%95%B4%E9%AB%94%E5%8B%95%E7%95%AB%E5%AE%8C%E6%88%90\" aria-label=\"第五步發揮創意將整體動畫完成 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第五步，發揮創意，將整體動畫完成</h2>\n<p>TimelineMax 所提供的 API 都是 chainable 的，你可以想像成是時間軸一般，動畫跟著 chain 一步一步照順序執行，而 <code class=\"language-text\">staggerFrom</code> 則可以同時讓多個 DOM 元件以些微時間差的順序啟動，另外也能設置一些 Flag 來指定要等到哪幾個動畫完成後，才接續其他動畫，這些細節當你在思考要如何“動畫”你的 SVG 時，再去 GSAP 的文件與論壇查詢，相信都能找到解答。</p>\n<p>最後，發揮自己的創意，把 svg 的各個部分都補上動畫，搭配 GSAP 提供的文件，組合各種 API，一個簡單的作品就完成了：</p>\n<p class=\"codepen\" data-height=\"403\" data-theme-id=\"29194\" data-default-tab=\"result\" data-user=\"arvin0731\" data-slug-hash=\"XWWYYWM\" style=\"height: 403px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Scooter - final-steps\">\n  <span>See the Pen <a href=\"https://codepen.io/arvin0731/pen/XWWYYWM\">\n  Scooter - final-steps</a> by Arvin (<a href=\"https://codepen.io/arvin0731\">@arvin0731</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n<h2 id=\"結論\" style=\"position:relative;\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-label=\"結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>結論</h2>\n<p>雖然這個小技巧說破真的不值錢，最困難的技術都交給了 GSAP 處理，SVG 還不用是自己畫的，但加在自己的部落格或是放在投影片中，可以瞬間讓畫面更加豐富，無聊沒事拿來娛樂自己也是很不錯的選擇，像是出國旅行回來有時差睡不著，不如就來畫個動畫調養身心 XD\n總之，我自己覺得蠻有趣的，希望或多或少對讀到這篇文章的人有點幫助。</p>\n<h3 id=\"資料來源\" style=\"position:relative;\"><a href=\"#%E8%B3%87%E6%96%99%E4%BE%86%E6%BA%90\" aria-label=\"資料來源 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>資料來源</h3>\n<ol>\n<li><a href=\"https://greensock.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GreenSock Animation Platform</a></li>\n<li><a href=\"https://medium.com/@LewisMenelaws/how-to-create-beautiful-svg-animations-easily-610eb2690ac3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">How to Create Beautiful SVG Animations Easily</a></li>\n</ol>","id":"6f9a0e19-cbd4-5930-8fc8-f30f2d7618ad","fields":{"slug":"svg-animation-in-10-mins"},"frontmatter":{"date":"2019-11-06T08:56:40.000Z","title":"十分鐘、五步驟，SVG 動起來！","tags":["web","svg","animation","TimelineMax","GSAP"],"type":"tech","slug":"svg-animation-in-10mins"},"timeToRead":9}],"tagName":"TimelineMax","type":"tech"}},"staticQueryHashes":["2123680655"]}